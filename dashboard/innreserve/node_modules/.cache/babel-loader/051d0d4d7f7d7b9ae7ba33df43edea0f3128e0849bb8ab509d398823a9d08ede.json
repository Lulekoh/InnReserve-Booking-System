{"ast":null,"code":"import React,{useReducer}from'react';import axios from'axios';import BookingContext from'./BookingContext';import bookingReducer from'../reducers/bookingReducer';import{GET_BOOKINGS,ADD_BOOKING,BOOKING_ERROR}from'../types';import{jsx as _jsx}from\"react/jsx-runtime\";const BookingState=props=>{const initialState={bookings:[],error:null};const[state,dispatch]=useReducer(bookingReducer,initialState);const getBookings=async()=>{try{const res=await axios.get('/api/bookings');dispatch({type:GET_BOOKINGS,payload:res.data});}catch(err){dispatch({type:BOOKING_ERROR,payload:err.response.data.message});}};const addBooking=async booking=>{const config={headers:{'Content-Type':'application/json'}};try{const res=await axios.post('/api/bookings',booking,config);dispatch({type:ADD_BOOKING,payload:res.data});}catch(err){dispatch({type:BOOKING_ERROR,payload:err.response.data.message});}};return/*#__PURE__*/_jsx(BookingContext.Provider,{value:{bookings:state.bookings,error:state.error,getBookings,addBooking},children:props.children});};export default BookingState;","map":{"version":3,"names":["React","useReducer","axios","BookingContext","bookingReducer","GET_BOOKINGS","ADD_BOOKING","BOOKING_ERROR","jsx","_jsx","BookingState","props","initialState","bookings","error","state","dispatch","getBookings","res","get","type","payload","data","err","response","message","addBooking","booking","config","headers","post","Provider","value","children"],"sources":["/InnReserve-Booking-System/dashboard/innreserve/src/context/BookingState.js"],"sourcesContent":["import React, { useReducer } from 'react';\nimport axios from 'axios';\nimport BookingContext from './BookingContext';\nimport bookingReducer from '../reducers/bookingReducer';\nimport {\n  GET_BOOKINGS,\n  ADD_BOOKING,\n  BOOKING_ERROR,\n} from '../types';\n\nconst BookingState = (props) => {\n  const initialState = {\n    bookings: [],\n    error: null,\n  };\n\n  const [state, dispatch] = useReducer(bookingReducer, initialState);\n\n  const getBookings = async () => {\n    try {\n      const res = await axios.get('/api/bookings');\n\n      dispatch({\n        type: GET_BOOKINGS,\n        payload: res.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: BOOKING_ERROR,\n        payload: err.response.data.message,\n      });\n    }\n  };\n\n  const addBooking = async (booking) => {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    };\n\n    try {\n      const res = await axios.post('/api/bookings', booking, config);\n\n      dispatch({\n        type: ADD_BOOKING,\n        payload: res.data,\n      });\n    } catch (err) {\n      dispatch({\n        type: BOOKING_ERROR,\n        payload: err.response.data.message,\n      });\n    }\n  };\n\n  return (\n    <BookingContext.Provider\n      value={{\n        bookings: state.bookings,\n        error: state.error,\n        getBookings,\n        addBooking,\n      }}\n    >\n      {props.children}\n    </BookingContext.Provider>\n  );\n};\n\nexport default BookingState;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,KAAQ,OAAO,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,CAAAC,cAAc,KAAM,4BAA4B,CACvD,OACEC,YAAY,CACZC,WAAW,CACXC,aAAa,KACR,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAElB,KAAM,CAAAC,YAAY,CAAIC,KAAK,EAAK,CAC9B,KAAM,CAAAC,YAAY,CAAG,CACnBC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,UAAU,CAACG,cAAc,CAAEQ,YAAY,CAAC,CAElE,KAAM,CAAAK,WAAW,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,CAAC,eAAe,CAAC,CAE5CH,QAAQ,CAAC,CACPI,IAAI,CAAEf,YAAY,CAClBgB,OAAO,CAAEH,GAAG,CAACI,IACf,CAAC,CAAC,CACJ,CAAE,MAAOC,GAAG,CAAE,CACZP,QAAQ,CAAC,CACPI,IAAI,CAAEb,aAAa,CACnBc,OAAO,CAAEE,GAAG,CAACC,QAAQ,CAACF,IAAI,CAACG,OAC7B,CAAC,CAAC,CACJ,CACF,CAAC,CAED,KAAM,CAAAC,UAAU,CAAG,KAAO,CAAAC,OAAO,EAAK,CACpC,KAAM,CAAAC,MAAM,CAAG,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAED,GAAI,CACF,KAAM,CAAAX,GAAG,CAAG,KAAM,CAAAhB,KAAK,CAAC4B,IAAI,CAAC,eAAe,CAAEH,OAAO,CAAEC,MAAM,CAAC,CAE9DZ,QAAQ,CAAC,CACPI,IAAI,CAAEd,WAAW,CACjBe,OAAO,CAAEH,GAAG,CAACI,IACf,CAAC,CAAC,CACJ,CAAE,MAAOC,GAAG,CAAE,CACZP,QAAQ,CAAC,CACPI,IAAI,CAAEb,aAAa,CACnBc,OAAO,CAAEE,GAAG,CAACC,QAAQ,CAACF,IAAI,CAACG,OAC7B,CAAC,CAAC,CACJ,CACF,CAAC,CAED,mBACEhB,IAAA,CAACN,cAAc,CAAC4B,QAAQ,EACtBC,KAAK,CAAE,CACLnB,QAAQ,CAAEE,KAAK,CAACF,QAAQ,CACxBC,KAAK,CAAEC,KAAK,CAACD,KAAK,CAClBG,WAAW,CACXS,UACF,CAAE,CAAAO,QAAA,CAEDtB,KAAK,CAACsB,QAAQ,CACQ,CAAC,CAE9B,CAAC,CAED,cAAe,CAAAvB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}